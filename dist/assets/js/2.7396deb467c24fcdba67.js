webpackJsonp([2],{"7zU8":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=a("a3Yh"),s=a.n(r),o=a("lC5x"),i=a.n(o),u=a("J0Oq"),l=a.n(u),c=a("3cXf"),d=a.n(c),m=a("aA9S"),h=a.n(m),g=a("CtzY"),v=a.n(g),p={name:"index",data:function(){return{nature:"",paiBanCustomerWorkerHas:"",paiBanCustomerWorkerPhoneHas:"",paiBanCustomerWorkerUrgent:"",paiBanCustomerWorkerLevel:"",zhuRenCustomerWorkerHas:"",zhuRenCustomerWorkerPhoneHas:"",zhuRenCustomerWorkerUrgent:"",zhuRenCustomerWorkerLevel:"",paiBanCustomerWorkerLevelname:"",zhuRenCustomerWorkerLevelname:"",nicknameThis:"",totalCount:"",totalCountHos:"",totalCountHos1:"",totalCountHos2:"",show1:!1,show2:!1,show3:!1,show4:!1,peopleType:"",phoneIfyuanzhang:"",phoneIfzhuren:"",PhoneHasyuanzhang:"",PhoneHaszhuren:"",urgentyuanzhang:"",urgentzhuren:"",checked1:!1,checked2:!1,checked3:!1,checked4:!1,traceTotalNumber:"",totalCountHosSelect:"",layuiData:"",layuiDate:"",echartsShowData:!1,echartsDayShowData:!1,lineData:{title:{text:""},text:"数据正在载入...",tooltip:{},legend:{data:["客户量","追踪数"]},xAxis:{name:"时间：日",axisLabel:{interval:0},boundaryGap:!1,data:[]},yAxis:{name:"单位：个"},label:{show:!0},toolbox:{show:!0,feature:{dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["bar","line"]},restore:{show:!1},saveAsImage:{show:!0}}},series:[{name:"客户量",type:"line",color:["#37A2DA"],data:[]},{name:"追踪数",type:"line",color:["#fb5858"],data:[]}]},createTimeState:"",dayData:{title:{text:""},tooltip:{},legend:{data:["客户量","拍板人"]},xAxis:{name:"时间：小时",axisLabel:{interval:0},boundaryGap:!1,data:[]},yAxis:{name:"单位：个"},label:{show:!0},toolbox:{show:!0,feature:{dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["line","bar"]},restore:{show:!1},saveAsImage:{show:!0}}},series:[{name:"客户量",type:"line",color:["#37A2DA"],data:[]},{name:"拍板人",type:"line",color:["red"],data:[]}]},nowTime:"",nowDayTime:"",query:""}},activated:function(){var e=this;h()(this.$data,this.$options.data()),this.$common.loginRefresh(),localStorage.getItem("id")&&(this.cookie="loginId="+localStorage.getItem("id"),console.log(this.cookie,localStorage.getItem("id"))),this.getDataNumber(),this.getDataNumberHos(),this.getDataNumberHos(1),this.getDataNumberHos(2),this.traceNumber();var t=(new Date).getFullYear(),a=(new Date).getMonth()+1,n=(new Date).getDate();a<10&&(a="0"+a),n<10&&(n="0"+n),e.layuiData=t+"-"+a,e.layuiDate=t+"-"+a+"-"+n,e.$nextTick(function(){layui.use("laydate",function(){layui.laydate.render({elem:"#layDateMonth",type:"month",change:function(t,a,n){console.log(a),e.nowTime=a,a.month<10&&(a.month="0"+a.month),e.layuiData=a.year+"-"+a.month,$(".layui-laydate").remove()}}),layui.laydate.render({elem:"#layDateDate",type:"date",done:function(t,a){console.dir(a),e.nowDayTime=a,$(".layui-laydate").remove()}})})}),this.selectFilterFn(),this.selectDayFilterFn(),localStorage.getItem("nickname")&&(console.log(localStorage.getItem("nickname")),this.nicknameThis=localStorage.getItem("nickname"),console.log(this.nicknameThis)),this.query!=d()(this.$route.query)&&(this.query=d()(this.$route.query),$("#index .lastHis").unbind("click").click(function(){$.ajax({url:"/crm/cache/get",type:"get",data:"name="+$(".peoname").html(),async:!0,success:function(t){if(0==t.code){console.log(JSON.parse(t.data.value));var a=JSON.parse(t.data.value);e.kw=a.kw,e.level=a.level,e.nature=a.nature,e.area1Id=a.area1Id,e.area2Id=a.area2Id,e.urgent=a.urgent,e.pn=a.page,e.totalNum=a.totalNum,$("#index .keyword").val(e.kw),$("#index .urgentLevel").val(e.level||e.urgent),$("#index .nature").val(e.nature),$("#index .province").val(e.area1Id),$("#index .city").val(e.area2Id),$("#index #box").paging({initPageNo:e.pn,totalPages:e.totalNum,slideSpeed:600,jump:!0,callback:function(t){var a=$("#index .nature").val();e.pn=t,console.log(e.pn),e.lastPage(t,e.ps,e.kw,a,e.area1Id,e.area2Id,e.area3Id,e.urgent,e.level)}})}}})}),$("#index table").on("click","tr .enterHos",function(){$(this).parent().parent().find(".a29905").addClass("a29902").removeClass("a29905"),$(this).parent().addClass("a29905").removeClass("a29902");var t={page:e.pn,level:e.level,nature:e.nature,kw:e.kw,area1Id:e.area1Id,area2Id:e.area2Id,urgent:e.urgent,totalNum:e.totalNum};$.ajax({url:"/crm/cache/set",type:"post",data:"name="+$(".peoname").html()+"&value="+d()(t),async:!0,success:function(e){e.code}})}),$("#index .searchThis").unbind("click").click(function(){e.kw=$("#index .keyword").val(),e.lastPageNo(),$("#index #box").paging({initPageNo:1,totalPages:e.totalNum,slideSpeed:600,jump:!0,callback:function(t){e.pn=t,e.lastPage(t,e.ps,e.kw,e.nature,e.area1Id,e.area2Id,e.area3Id,e.urgent,e.level)}})}),$("#index .urgentLevel").change(function(){""==$(this).val()?(e.urgent="",e.level=""):0==$(this).val()?(e.urgent=1,e.level=""):(e.urgent="",e.level=$(this).val()),e.lastPageNo(),$("#index #box").paging({initPageNo:1,totalPages:e.totalNum,slideSpeed:600,jump:!0,callback:function(t){e.pn=t,e.lastPage(t,e.ps,e.kw,e.nature,e.area1Id,e.area2Id,e.area3Id,e.urgent,e.level)}})}),$("#index .nature").change(function(){e.nature=$(this).val(),e.lastPageNo(),$("#index #box").paging({initPageNo:1,totalPages:e.totalNum,slideSpeed:600,jump:!0,callback:function(t){var a=$(".nature").val();e.pn=t,e.lastPage(t,e.ps,e.kw,a,e.area1Id,e.area2Id,e.area3Id,e.urgent,e.level)}})}),$.getJSON("./assets/js/area.json",function(t){e.provinceList=t,$.each(t,function(e,t){$("#index .province").append('<option value="'+t.value+'">'+t.label+"</option>")})}),$("#index .province").change(function(){var t=$(this).val();$.each(e.provinceList,function(a,n){t==n.value&&(e.cityItem=a)}),e.cityList=e.provinceList[e.cityItem],$("#index .city").html('<option value="">-市-</option>'),$("#index .town").html('<option value="">-区-</option>'),$.each(e.cityList.children,function(e,t){$("#index .city").append('<option value="'+t.value+'">'+t.label+"</option>")}),e.area1Id=$(this).val(),e.area2Id="",e.area3Id="",e.lastPageNo(),$("#index #box").paging({initPageNo:1,totalPages:e.totalNum,slideSpeed:600,jump:!0,callback:function(t){var a=$("#index .nature").val();e.pn=t,e.lastPage(t,e.ps,e.kw,a,e.area1Id,e.area2Id,e.area3Id,e.urgent,e.level)}})}),$("#index .city").change(function(){var t=$(this).val();$.each(e.cityList.children,function(a,n){t==n.value&&(e.townItem=a)}),e.townList=e.cityList.children[e.townItem],$("#index .town").html('<option value="">-区-</option>'),$.each(e.townList.children,function(e,t){$("#index .town").append('<option value="'+t.value+'">'+t.label+"</option>")}),e.area2Id=$(this).val(),e.lastPageNo(),$("#index #box").paging({initPageNo:1,totalPages:e.totalNum,slideSpeed:600,jump:!0,callback:function(t){var a=$("#index .nature").val();e.pn=t,e.lastPage(t,e.ps,e.kw,a,e.area1Id,e.area2Id,e.area3Id,e.urgent,e.level)}})}),$("#index .town").change(function(){e.area3Id=$(this).val(),e.lastPageNo(),$("#index #box").paging({initPageNo:1,totalPages:e.totalNum,slideSpeed:600,jump:!0,callback:function(t){var a=$("#index .nature").val();e.pn=t,e.lastPage(t,e.ps,e.kw,a,e.area1Id,e.area2Id,e.area3Id,e.urgent,e.level)}})}),$("#index").on("click",".tbody .xiugaiTimeFn",function(e){$(this).parent().attr("id")}),$("#index .refresh").unbind("click").click(function(){$("#index .keyword").val(""),$("#index .province").val(""),$("#index .city").val(""),$("#index .town").val(""),$("#index .nature").val(""),$("#index .urgentLevel").val(""),e.kw="",e.nature="",e.area1Id="",e.area2Id="",e.area3Id="",e.urgent="",e.level="",e.toRevisitTimeFrom="",e.toRevisitTimeTo="",e.lastPageNo(),$("#index #box").paging({initPageNo:1,totalPages:e.totalNum,slideSpeed:600,jump:!0,callback:function(t){var a=$("#index .nature").val();e.pn=t,e.lastPage(t,e.ps,e.kw,a,e.area1Id,e.area2Id,e.area3Id,e.urgent,e.level)}})}),$("#index .loginout").unbind("click").click(function(){$.ajax({type:"post",url:"/crm/logout",data:"",success:function(e){location.href=location.pathname}})}),$("#index table").on("click","tr td:nth-child(4)",function(){""==$(this).attr("tel")||null==$(this).attr("tel")||void 0==$(this).attr("tel")||($("#inp_send").val($(this).attr("tel")).attr("linkName",$(this).attr("linkName")),$(".phoneNumber").html($(this).html()),$("#btn_conn").click())}))},methods:(n={yuanzhang:function(e){1==e?(this.show1=!0,this.show2=!1,this.paiBanCustomerWorkerHas=1,this.createTimeState="paiBanCustomerWorkerInserTime"):(this.show1=!1,this.show2=!1,this.paiBanCustomerWorkerHas="",this.PhoneHasyuanzhang="",this.paiBanCustomerWorkerPhoneHas="",this.paiBanCustomerWorkerUrgent="",this.paiBanCustomerWorkerLevel="",this.paiBanCustomerWorkerLevelname="",this.checked3=!1,this.urgentyuanzhang="","paiBanCustomerWorkerInserTime"!=this.createTimeState&&"paiBanCustomerWorkerPhoneInsertTime"!=this.createTimeState&&"paiBanCustomerWorkerLevelTime"!=this.createTimeState||(this.createTimeState=""))},zhuren:function(e){1==e?(this.show3=!0,this.show4=!1,this.zhuRenCustomerWorkerHas=1,this.createTimeState="zhuRenCustomerWorkerInserTime"):(this.show3=!1,this.show4=!1,this.zhuRenCustomerWorkerHas="",this.PhoneHaszhuren="",this.zhuRenCustomerWorkerPhoneHas="",this.zhuRenCustomerWorkerUrgent="",this.zhuRenCustomerWorkerLevel="",this.zhuRenCustomerWorkerLevelname="",this.checked4=!1,this.urgentzhuren="","zhuRenCustomerWorkerInserTime"!=this.createTimeState&&"zhuRenCustomerWorkerPhoneInsertTime"!=this.createTimeState&&"zhuRenCustomerWorkerLevelTime"!=this.createTimeState||(this.createTimeState=""))},selectHos:function(e,t){console.log(t),this.nature=t},selectPhoneyuanzhang:function(e){this.phoneIfyuanzhang=e,0==e&&(this.show2=!0,this.paiBanCustomerWorkerPhoneHas="","paiBanCustomerWorkerPhoneInsertTime"==this.createTimeState&&(this.createTimeState="")),1==e&&(this.show2=!0,this.paiBanCustomerWorkerPhoneHas=1,this.createTimeState="paiBanCustomerWorkerPhoneInsertTime")},selectPhonezhuren:function(e){this.phoneIfzhuren=e,0==e&&(this.show4=!0,this.zhuRenCustomerWorkerPhoneHas="","zhuRenCustomerWorkerPhoneInsertTime"==this.createTimeState&&(this.createTimeState="")),1==e&&(this.show4=!0,this.zhuRenCustomerWorkerPhoneHas=1,this.createTimeState="zhuRenCustomerWorkerPhoneInsertTime")},yuanzhanglevel:function(e){0==e?(this.paiBanCustomerWorkerLevel="","paiBanCustomerWorkerLevelTime"==this.createTimeState&&(this.createTimeState="")):(this.paiBanCustomerWorkerLevel=e,this.createTimeState="paiBanCustomerWorkerLevelTime",1==e?this.paiBanCustomerWorkerLevelname="暂不感兴趣":2==e?this.paiBanCustomerWorkerLevelname="初步感兴趣":3==e?this.paiBanCustomerWorkerLevelname="非常感兴趣":4==e?this.paiBanCustomerWorkerLevelname="近期可考察":5==e&&(this.paiBanCustomerWorkerLevelname="线上可签单"))},zhurenlevel:function(e){0==e?(this.zhuRenCustomerWorkerLevel="","zhuRenCustomerWorkerLevelTime"==this.createTimeState&&(this.createTimeState="")):(this.zhuRenCustomerWorkerLevel=e,this.createTimeState="zhuRenCustomerWorkerLevelTime",1==e?this.zhuRenCustomerWorkerLevelname="暂不感兴趣":2==e?this.zhuRenCustomerWorkerLevelname="初步感兴趣":3==e?this.zhuRenCustomerWorkerLevelname="非常感兴趣":4==e?this.zhuRenCustomerWorkerLevelname="近期可考察":5==e&&(this.zhuRenCustomerWorkerLevelname="线上可签单"))},yuanzhangjj:function(e){this.paiBanCustomerWorkerUrgent=1==e?1:""},zhurenjj:function(e){this.zhuRenCustomerWorkerUrgent=1==e?1:""},selectFilterFn:function(){this.echartsShowData=!0,this.statisticalAllFn()},selectDayFilterFn:function(){this.echartsDayShowData=!0,this.statisticalAllDayFn()},selectHospiatlNumFilterFn:function(){this.getNumberHosSelect(),this.lastPageNo(),this.lastPage(1)},lookrecordlist:function(){console.log(localStorage.getItem("nickname")),this.$router.push({path:"/record-list",query:{id:localStorage.getItem("id"),nickname:localStorage.getItem("nickname"),time:(new Date).getTime()}})},getData:function(){var e=this;this.$axios.get("/crm/ling-dao/user-list?"+v.a.stringify({pn:this.customerPage,order:"asc",sort:"updateTime",userId:localStorage.getItem("id")})).then(function(t){if(console.log(t),t.data.codeMsg&&(console.log(t.data.codeMsg),e.$message({type:"info",message:t.data.codeMsg})),0==t.data.code&&t.data.data.itemList.length>0)for(var a in t.data.data.itemList)e.urgentLevel.push(t.data.data.itemList[a])})},getDataNumber:function(){var e=this;this.$axios.get("/crm/ling-dao/user-list-sum?"+v.a.stringify({userId:localStorage.getItem("id")})).then(function(t){t.data.codeMsg&&e.$message({type:"info",message:t.data.codeMsg}),0==t.data.code&&(e.totalCount=t.data.data.itemCount)})},getNumberHosSelect:function(e){var t=this;return l()(i.a.mark(function a(){var n,r;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=t,r=void 0,r=t.paiBanCustomerWorkerPhoneHas?t.paiBanCustomerWorkerPhoneHas:e,a.next=5,n.$axios.get("/crm/ling-dao/customer/customer-list-sum?"+v.a.stringify({paiBanCustomerWorkerHas:n.paiBanCustomerWorkerHas,paiBanCustomerWorkerPhoneHas:r,paiBanCustomerWorkerUrgent:n.paiBanCustomerWorkerUrgent,paiBanCustomerWorkerLevel:n.paiBanCustomerWorkerLevel,zhuRenCustomerWorkerHas:n.zhuRenCustomerWorkerHas,zhuRenCustomerWorkerPhoneHas:n.zhuRenCustomerWorkerPhoneHas,zhuRenCustomerWorkerUrgent:n.zhuRenCustomerWorkerUrgent,zhuRenCustomerWorkerLevel:n.zhuRenCustomerWorkerLevel,nature:n.nature,userId:localStorage.getItem("id")})).then(function(e){e.data.codeMsg&&n.$message({type:"info",message:e.data.codeMsg}),0==e.data.code&&(n.totalCountHosSelect=e.data.data.itemCount)});case 5:case"end":return a.stop()}},a,t)}))()},getCustomerWorkerTrace:function(e){var t=this;return l()(i.a.mark(function a(){return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.$axios.get("/crm/ling-dao/customer-worker-trace/customer-worker-trace-list-sum-by-month?"+v.a.stringify({createTimeByMonth:e,userId:localStorage.getItem("id")})).then(function(e){if(e.data.codeMsg&&t.$message({type:"info",message:e.data.codeMsg}),0==e.data.code){for(var a in e.data.data.sum)t.lineData.series[1].data.push(e.data.data.sum[a].sum.itemCount);console.log(t.lineData.series[1].data)}});case 2:case"end":return a.stop()}},a,t)}))()},getDataNumberHosSelect:function(e){var t=this;return l()(i.a.mark(function a(){var n;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return console.log(),n=t,void 0,a.next=5,n.$axios.get("/crm/ling-dao/customer/customer-list-sum-by-month?"+v.a.stringify({paiBanCustomerWorkerHas:n.paiBanCustomerWorkerHas,paiBanCustomerWorkerPhoneHas:t.paiBanCustomerWorkerPhoneHas,paiBanCustomerWorkerUrgent:n.paiBanCustomerWorkerUrgent,paiBanCustomerWorkerLevel:n.paiBanCustomerWorkerLevel,zhuRenCustomerWorkerHas:n.zhuRenCustomerWorkerHas,zhuRenCustomerWorkerPhoneHas:n.zhuRenCustomerWorkerPhoneHas,zhuRenCustomerWorkerUrgent:n.zhuRenCustomerWorkerUrgent,zhuRenCustomerWorkerLevel:n.zhuRenCustomerWorkerLevel,nature:n.nature,userId:localStorage.getItem("id"),whatTime:t.createTimeState,createTimeByMonth:e})).then(function(e){if(e.data.codeMsg&&n.$message({type:"info",message:e.data.codeMsg}),0==e.data.code){var a=(new Date).getFullYear(),r=(new Date).getMonth()+1,s=(new Date).getDate();r<10&&(r="0"+r),s<10&&(s="0"+s);var o=a.toString()+r.toString()+s.toString();for(var i in e.data.data.sum){var u=e.data.data.sum[i].date.split("-")[0]+e.data.data.sum[i].date.split("-")[1]+e.data.data.sum[i].date.split("-")[2].split(" ")[0];e.data.data.sum[i].date.split("-")[2].split(" ")[0]<10?t.lineData.xAxis.data.push(e.data.data.sum[i].date.split("-")[2].split(" ")[0].replace(0,"")):t.lineData.xAxis.data.push(e.data.data.sum[i].date.split("-")[2].split(" ")[0]),u<=o&&t.lineData.series[0].data.push(e.data.data.sum[i].sum.itemCount)}}});case 5:case"end":return a.stop()}},a,t)}))()}},s()(n,"getCustomerWorkerTrace",function(e){var t=this;return l()(i.a.mark(function a(){return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.$axios.get("/crm/ling-dao/customer-worker-trace/customer-worker-trace-list-sum-by-month?"+v.a.stringify({createTimeByMonth:e,userId:localStorage.getItem("id")})).then(function(e){if(e.data.codeMsg&&t.$message({type:"info",message:e.data.codeMsg}),0==e.data.code){var a=(new Date).getFullYear(),n=(new Date).getMonth()+1,r=(new Date).getDate();n<10&&(n="0"+n),r<10&&(r="0"+r);var s=a.toString()+n.toString()+r.toString();for(var o in e.data.data.sum){e.data.data.sum[o].date.split("-")[0]+e.data.data.sum[o].date.split("-")[1]+e.data.data.sum[o].date.split("-")[2].split(" ")[0]<=s&&t.lineData.series[1].data.push(e.data.data.sum[o].sum.itemCount)}console.log(t.lineData.series[1].data)}});case 2:case"end":return a.stop()}},a,t)}))()}),s()(n,"getInTheDayData",function(e){var t=this;return l()(i.a.mark(function a(){var n;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=t,a.next=3,n.$axios.get("/crm/ling-dao/customer/customer-list-sum-by-day?"+v.a.stringify({paiBanCustomerWorkerHas:n.paiBanCustomerWorkerHas,paiBanCustomerWorkerPhoneHas:t.paiBanCustomerWorkerPhoneHas,paiBanCustomerWorkerUrgent:n.paiBanCustomerWorkerUrgent,paiBanCustomerWorkerLevel:n.paiBanCustomerWorkerLevel,zhuRenCustomerWorkerHas:n.zhuRenCustomerWorkerHas,zhuRenCustomerWorkerPhoneHas:n.zhuRenCustomerWorkerPhoneHas,zhuRenCustomerWorkerUrgent:n.zhuRenCustomerWorkerUrgent,zhuRenCustomerWorkerLevel:n.zhuRenCustomerWorkerLevel,nature:n.nature,userId:localStorage.getItem("id"),whatTime:t.createTimeState,dayTime:e})).then(function(e){if(e.data.codeMsg&&n.$message({type:"info",message:e.data.codeMsg}),0==e.data.code){var a=(new Date).getFullYear(),r=(new Date).getMonth()+1,s=(new Date).getDate(),o=(new Date).getHours();r<10&&(r="0"+r),s<10&&(s="0"+s),o<10&&(o="0"+o);var i=a.toString()+r.toString()+s.toString()+o.toString();for(var u in e.data.data.sum){var l=e.data.data.sum[u].date.split("-")[0]+e.data.data.sum[u].date.split("-")[1]+e.data.data.sum[u].date.split("-")[2].split(" ")[0]+e.data.data.sum[u].date.split(" ")[1].split(":")[0];e.data.data.sum[u].date.split(" ")[1].split(":")[0]<10?t.dayData.xAxis.data.push(e.data.data.sum[u].date.split(" ")[1].split(":")[0].replace(0,"")):t.dayData.xAxis.data.push(e.data.data.sum[u].date.split(" ")[1].split(":")[0]),l<=i&&t.dayData.series[0].data.push(e.data.data.sum[u].sum.itemCount)}console.log(t.dayData.series[0].data)}});case 3:case"end":return a.stop()}},a,t)}))()}),s()(n,"getCustomerWorkerTraceDay",function(e){var t=this;return l()(i.a.mark(function a(){return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.$axios.get("/crm/ling-dao/customer-worker-trace/customer-worker-trace-list-sum-by-day?"+v.a.stringify({dayTime:e,userId:localStorage.getItem("id")})).then(function(e){if(e.data.codeMsg&&t.$message({type:"info",message:e.data.codeMsg}),0==e.data.code){var a=(new Date).getFullYear(),n=(new Date).getMonth()+1,r=(new Date).getDate(),s=(new Date).getHours();n<10&&(n="0"+n),r<10&&(r="0"+r),s<10&&(s="0"+s);var o=a.toString()+n.toString()+r.toString()+s.toString();for(var i in e.data.data.sum){e.data.data.sum[i].date.split("-")[0]+e.data.data.sum[i].date.split("-")[1]+e.data.data.sum[i].date.split("-")[2].split(" ")[0]+e.data.data.sum[i].date.split(" ")[1].split(":")[0]<=o&&t.dayData.series[1].data.push(e.data.data.sum[i].sum.itemCount)}console.log(t.lineData.series[1].data)}});case 2:case"end":return a.stop()}},a,t)}))()}),s()(n,"statisticalAllFn",function(){var e=this;return l()(i.a.mark(function t(){var a,n,r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(new Date).getDate(),a=(new Date).getMonth()+1,n=(new Date).getFullYear(),0!=e.lineData.xAxis.data.length&&(e.lineData.xAxis.data=[],e.chartsMounthFn()),e.nowTime&&(n=e.nowTime.year,a=e.nowTime.month),r=new Date(n+"-"+a+"-1 00:00:00").getTime(),console.dir(e.nowTime),t.next=9,e.getDataNumberHosSelect(r);case 9:return t.next=11,e.getCustomerWorkerTrace(r);case 11:e.$echarts.init(document.getElementById("main2")).setOption(e.lineData,!0);case 12:case"end":return t.stop()}},t,e)}))()}),s()(n,"statisticalAllDayFn",function(){var e=this;return l()(i.a.mark(function t(){var a,n,r,s,o;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=(new Date).getDate(),n=(new Date).getMonth()+1,r=(new Date).getFullYear(),0!=e.dayData.xAxis.data.length&&(e.dayData.xAxis.data=[],e.chartsDayFn()),console.dir(e.nowDayTime),e.nowDayTime&&(r=e.nowDayTime.year,n=e.nowDayTime.month,a=e.nowDayTime.date),s=new Date(r+"-"+n+"-"+a+" 23:59:59").getTime(),o=e.moment(s).format("YYYY-MM-DD HH:mm:ss"),console.log(o),t.next=11,e.getInTheDayData(s);case 11:return t.next=13,e.getCustomerWorkerTraceDay(s);case 13:e.$echarts.init(document.getElementById("main")).setOption(e.dayData,!0);case 14:case"end":return t.stop()}},t,e)}))()}),s()(n,"chartsDayFn",function(){this.dayData.series[0].data=[],this.dayData.series[1].data=[],this.$echarts.init(document.getElementById("main")).setOption(this.dayData,!0),this.$echarts.init(document.getElementById("main")).clear()}),s()(n,"chartsMounthFn",function(){this.lineData.series[0].data=[],this.lineData.series[1].data=[],this.$echarts.init(document.getElementById("main2")).setOption(this.lineData,!0),this.$echarts.init(document.getElementById("main2")).clear()}),s()(n,"getDataNumberHos",function(e){var t=this;this.$axios.get("/crm/ling-dao/customer/customer-list-sum?"+v.a.stringify({nature:e,userId:localStorage.getItem("id")})).then(function(a){a.data.codeMsg&&t.$message({type:"info",message:a.data.codeMsg}),0==a.data.code&&(1==e?t.totalCountHos1=a.data.data.itemCount:2==e?t.totalCountHos2=a.data.data.itemCount:(t.totalCountHos=a.data.data.itemCount,t.totalCountHosSelect=a.data.data.itemCount))})}),s()(n,"traceNumber",function(){var e=this;this.$axios.get("/crm/ling-dao/customer-worker-trace/customer-worker-trace-list-sum?"+v.a.stringify({userId:localStorage.getItem("id")})).then(function(t){t.data.codeMsg&&e.$message({type:"info",message:t.data.codeMsg}),0==t.data.code&&(e.traceTotalNumber=t.data.data.itemCount)})}),s()(n,"lastPage",function(e){var t=v.a.stringify({paiBanCustomerWorkerHas:this.paiBanCustomerWorkerHas,paiBanCustomerWorkerPhoneHas:this.paiBanCustomerWorkerPhoneHas,paiBanCustomerWorkerUrgent:this.paiBanCustomerWorkerUrgent,paiBanCustomerWorkerLevel:this.paiBanCustomerWorkerLevel,zhuRenCustomerWorkerHas:this.zhuRenCustomerWorkerHas,zhuRenCustomerWorkerPhoneHas:this.zhuRenCustomerWorkerPhoneHas,zhuRenCustomerWorkerUrgent:this.zhuRenCustomerWorkerUrgent,zhuRenCustomerWorkerLevel:this.zhuRenCustomerWorkerLevel,nature:this.nature,userId:localStorage.getItem("id")}),a=this;$.ajax({url:"/crm/ling-dao/customer/customer-list",type:"GET",data:t+"&toRevisitTimeFrom="+a.toRevisitTimeFrom+"&toRevisitTimeTo="+a.toRevisitTimeTo+"&ps=15&pn="+e,async:!0,success:function(t){if(console.dir(t),0==t.code&&($("#index .tbody").html(""),$(".tableBox").css("display","block"),t.data.itemList&&t.data.itemList.length>0))for(var n in t.data.itemList){var r="";t.data.itemList[n].paiBanCustomerWorkerPhone1&&(r=t.data.itemList[n].paiBanCustomerWorkerPhone1.substring(0,3)+"****"+t.data.itemList[n].paiBanCustomerWorkerPhone1.substring(8,t.data.itemList[n].paiBanCustomerWorkerPhone1.length));t.data.itemList[n].toRevisitTime?a.moment(t.data.itemList[n].toRevisitTime).format("YYYY-MM-DD"):"",$("#index .tbody").append("<tr id="+t.data.itemList[n].customerId+"><td>"+(parseInt(n)+1+15*(e-1))+'</td><td class="xiugaiTimeFn">'+t.data.itemList[n].userNickname+'</td><td class="enterHos"><a href="#/history-detail-lindao-eve?id='+t.data.itemList[n].customerId+'">'+(t.data.itemList[n].name||"")+"</a></td><td>"+(t.data.itemList[n].paiBanCustomerWorkerName||"")+'</td><td  linkName="'+(t.data.itemList[n].name||"")+'" tel="'+(t.data.itemList[n].tel||"")+'">'+(r||"")+"</td><td>"+(t.data.itemList[n].paiBanCustomerWorkerVerifyWay||"")+"</td><td>"+a.getDateDiff(t.data.itemList[n].updateTime)+"</td></tr>")}}})}),s()(n,"lastPageNo",function(e){var t=v.a.stringify({paiBanCustomerWorkerHas:this.paiBanCustomerWorkerHas,paiBanCustomerWorkerPhoneHas:this.paiBanCustomerWorkerPhoneHas,paiBanCustomerWorkerUrgent:this.paiBanCustomerWorkerUrgent,paiBanCustomerWorkerLevel:this.paiBanCustomerWorkerLevel,zhuRenCustomerWorkerHas:this.zhuRenCustomerWorkerHas,zhuRenCustomerWorkerPhoneHas:this.zhuRenCustomerWorkerPhoneHas,zhuRenCustomerWorkerUrgent:this.zhuRenCustomerWorkerUrgent,zhuRenCustomerWorkerLevel:this.zhuRenCustomerWorkerLevel,nature:this.nature,userId:localStorage.getItem("id")}),a=this;$.ajax({url:"/crm/ling-dao/customer/customer-list-sum",type:"GET",data:t+"&toRevisitTimeFrom="+a.toRevisitTimeFrom+"&toRevisitTimeTo="+a.toRevisitTimeTo+"&ps=15&pn="+e,async:!0,success:function(e){0==e.code&&(a.totalNum=Math.ceil(e.data.itemCount/15),console.log(a.totalNum),$("#index .shuju").html("( 共"+e.data.itemCount+"条数据 )"),$("#index #box").paging({initPageNo:1,totalPages:a.totalNum,slideSpeed:600,jump:!0,callback:function(e){a.pn=e,a.lastPage(e)}}))}})}),s()(n,"getDateDiff",function(e){if(!e)return"";var t=(new Date).getTime()-e;if(!(t<0)){var a=t/2592e6,n=t/6048e5,r=t/864e5,s=t/36e5,o=t/6e4;return a>=1?a<=12?parseInt(a)+"月前":parseInt(a/12)+"年前":n>=1?parseInt(n)+"周前":r>=1?parseInt(r)+"天前":s>=1?parseInt(s)+"小时前":o>=1?parseInt(o)+"分钟前":"刚刚"}}),n)},k={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"index",attrs:{id:"index"}},[a("input",{attrs:{type:"",id:"userName",hidden:""}}),e._v(" "),a("span",{staticClass:"record1",attrs:{hidden:""}}),e._v(" "),a("span",{staticClass:"record2",attrs:{hidden:""}}),e._v(" "),a("span",{staticClass:"record3",attrs:{hidden:""}}),e._v(" "),a("a",{staticClass:"aClose",staticStyle:{padding:"10px 20px"},attrs:{href:"Webshell://hello"}},[e._v("重启话机")]),e._v(" "),a("input",{attrs:{type:"",name:"",id:"inp_send",hidden:""}}),e._v(" "),a("button",{attrs:{id:"btn_conn",hidden:""}},[e._v("发送")]),e._v(" "),a("div",{staticClass:"mainbox"},[a("div",{staticClass:"topselect"},[a("div",{staticStyle:{width:"100%",height:"auto"}},[a("a",{staticClass:"loginout",staticStyle:{float:"right","line-height":"80px","margin-left":"20px"},attrs:{href:"javascript:;"}},[e._v("退出登录")]),e._v(" "),a("router-link",{staticClass:"lookBefore",attrs:{to:{path:"/history-detail-lindao"}}},[e._v("\n            查看昨日工作记录\n          ")])],1),e._v(" "),a("div",{staticClass:"leader_name"},[a("span",[e._v("昵称："+e._s(e.nicknameThis))]),e._v(" "),a("span",{staticStyle:{"margin-right":"20px"}},[e._v("跟踪总量："+e._s(e.traceTotalNumber))]),e._v(" "),a("el-button",{attrs:{nature:"0"},on:{click:function(t){return e.selectHos(t,"")}}},[e._v("所有医院："+e._s(e.totalCountHos)+"个")]),e._v(" "),a("el-button",{attrs:{nature:"1"},on:{click:function(t){return e.selectHos(t,1)}}},[e._v("民营医院："+e._s(e.totalCountHos1)+"个")]),e._v(" "),a("el-button",{attrs:{nature:"2"},on:{click:function(t){return e.selectHos(t,2)}}},[e._v("公立医院："+e._s(e.totalCountHos2)+"个")])],1)]),e._v(" "),a("div",{staticClass:"selectRoleAll"},[a("p",[e._v("筛选条件：\n          "),0==e.nature?a("span",[e._v("所有医院")]):e._e(),e._v(" "),1==e.nature?a("span",[e._v("民营医院")]):e._e(),e._v(" "),2==e.nature?a("span",[e._v("公立医院")]):e._e(),e._v(" "),1==e.paiBanCustomerWorkerHas?a("span",{staticStyle:{color:"#333"}},[e._v("- 院长")]):e._e(),e._v(" "),1==e.paiBanCustomerWorkerPhoneHas?a("span",[e._v("- 有号码")]):e._e(),e._v(" "),0!=e.paiBanCustomerWorkerLevelname?a("span",[e._v("- "+e._s(e.paiBanCustomerWorkerLevelname))]):e._e(),e._v(" "),1==e.paiBanCustomerWorkerUrgent?a("span",[e._v("- 加急 / ")]):e._e(),e._v(" "),1==e.zhuRenCustomerWorkerHas?a("span",{staticStyle:{color:"#333"}},[e._v("- 主任")]):e._e(),e._v(" "),1==e.zhuRenCustomerWorkerPhoneHas?a("span",[e._v("- 有号码")]):e._e(),e._v(" "),0!=e.zhuRenCustomerWorkerLevelname?a("span",[e._v("- "+e._s(e.zhuRenCustomerWorkerLevelname))]):e._e(),e._v(" "),1==e.zhuRenCustomerWorkerUrgent?a("span",[e._v("- 加急")]):e._e(),e._v(" "),a("el-button",{staticStyle:{"margin-left":"15px"},on:{click:function(t){return e.selectHospiatlNumFilterFn()}}},[e._v("确认筛选")]),e._v(" "),a("el-button",{staticStyle:{float:"right","margin-right":"15px"},on:{click:function(t){return e.lookrecordlist()}}},[e._v("通话记录汇总")])],1)]),e._v(" "),a("div",{staticClass:"selectAllThis"},[a("div",{staticClass:"lineOneThis"},[a("span",[e._v("人员类型：")]),e._v(" "),a("el-checkbox",{on:{change:e.yuanzhang},model:{value:e.checked1,callback:function(t){e.checked1=t},expression:"checked1"}},[e._v("院长")])],1),e._v(" "),e.show1?a("div",{staticClass:"lineOneThis"},[a("span",[e._v("院长是否有号码：")]),e._v(" "),a("el-radio-group",{on:{change:e.selectPhoneyuanzhang},model:{value:e.PhoneHasyuanzhang,callback:function(t){e.PhoneHasyuanzhang=t},expression:"PhoneHasyuanzhang"}},[a("el-radio",{attrs:{label:0}},[e._v("全部")]),e._v(" "),a("el-radio",{attrs:{label:1}},[e._v("有号码")])],1)],1):e._e(),e._v(" "),e.show2?a("div",{staticClass:"lineOneThis"},[a("span",[e._v("院长级别：")]),e._v(" "),a("el-radio-group",{on:{change:e.yuanzhanglevel},model:{value:e.urgentyuanzhang,callback:function(t){e.urgentyuanzhang=t},expression:"urgentyuanzhang"}},[a("el-radio",{attrs:{label:0}},[e._v("全部")]),e._v(" "),a("el-radio",{attrs:{label:1}},[e._v("暂不感兴趣")]),e._v(" "),a("el-radio",{attrs:{label:2}},[e._v("初步感兴趣")]),e._v(" "),a("el-radio",{attrs:{label:3}},[e._v("非常感兴趣")]),e._v(" "),a("el-radio",{attrs:{label:4}},[e._v("近期可考察")]),e._v(" "),a("el-radio",{attrs:{label:5}},[e._v("线上可签单")])],1)],1):e._e(),e._v(" "),e.show2?a("div",{staticClass:"lineOneThis"},[a("span",[e._v("院长是否加急：")]),e._v(" "),a("el-checkbox",{on:{change:e.yuanzhangjj},model:{value:e.checked3,callback:function(t){e.checked3=t},expression:"checked3"}},[e._v("加急")])],1):e._e(),e._v(" "),a("div",{staticClass:"lineOneThis"},[a("span",[e._v("人员类型：")]),e._v(" "),a("el-checkbox",{on:{change:e.zhuren},model:{value:e.checked2,callback:function(t){e.checked2=t},expression:"checked2"}},[e._v("主任")])],1),e._v(" "),e.show3?a("div",{staticClass:"lineOneThis"},[a("span",[e._v("主任是否有号码：")]),e._v(" "),a("el-radio-group",{on:{change:e.selectPhonezhuren},model:{value:e.PhoneHaszhuren,callback:function(t){e.PhoneHaszhuren=t},expression:"PhoneHaszhuren"}},[a("el-radio",{attrs:{label:0}},[e._v("全部")]),e._v(" "),a("el-radio",{attrs:{label:1}},[e._v("有号码")])],1)],1):e._e(),e._v(" "),e.show4?a("div",{staticClass:"lineOneThis"},[a("span",[e._v("主任级别：")]),e._v(" "),a("el-radio-group",{on:{change:e.zhurenlevel},model:{value:e.urgentzhuren,callback:function(t){e.urgentzhuren=t},expression:"urgentzhuren"}},[a("el-radio",{attrs:{label:0}},[e._v("全部")]),e._v(" "),a("el-radio",{attrs:{label:1}},[e._v("暂不感兴趣")]),e._v(" "),a("el-radio",{attrs:{label:2}},[e._v("初步感兴趣")]),e._v(" "),a("el-radio",{attrs:{label:3}},[e._v("非常感兴趣")]),e._v(" "),a("el-radio",{attrs:{label:4}},[e._v("近期可考察")]),e._v(" "),a("el-radio",{attrs:{label:5}},[e._v("线上可签单")])],1)],1):e._e(),e._v(" "),e.show4?a("div",{staticClass:"lineOneThis"},[a("span",[e._v("主任是否加急：")]),e._v(" "),a("el-checkbox",{on:{change:e.zhurenjj},model:{value:e.checked4,callback:function(t){e.checked4=t},expression:"checked4"}},[e._v("加急")])],1):e._e()]),e._v(" "),a("div",[a("p",{staticStyle:{"font-size":"20px",color:"#333333","line-height":"40px",margin:"0"}},[e._v("搜索结果："+e._s(e.totalCountHosSelect)+"家医院")])]),e._v(" "),e._m(0)]),e._v(" "),a("div",{staticClass:"time"},[a("span",[e._v("时间选择：")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.layuiDate,expression:"layuiDate"}],staticClass:"layui-input",staticStyle:{cursor:"pointer",display:"inline"},attrs:{type:"text",id:"layDateDate",readonly:""},domProps:{value:e.layuiDate},on:{input:function(t){t.target.composing||(e.layuiDate=t.target.value)}}}),e._v(" "),a("el-button",{staticStyle:{"margin-left":"15px"},on:{click:function(t){return e.selectDayFilterFn()}}},[e._v("生成图表")])],1),e._v(" "),e.echartsDayShowData?a("div",{staticStyle:{"min-width":"1230px",height:"400px",margin:"30px auto 0px"}},[a("div",{staticStyle:{"min-width":"1200px",height:"400px","margin-left":"0px auto"},attrs:{id:"main"}})]):e._e(),e._v(" "),a("div",{staticClass:"time"},[a("span",[e._v("时间选择：")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.layuiData,expression:"layuiData"}],staticClass:"layui-input",staticStyle:{cursor:"pointer",display:"inline"},attrs:{type:"text",id:"layDateMonth",readonly:""},domProps:{value:e.layuiData},on:{input:function(t){t.target.composing||(e.layuiData=t.target.value)}}}),e._v(" "),a("el-button",{staticStyle:{"margin-left":"15px"},on:{click:function(t){return e.selectFilterFn()}}},[e._v("生成图表")])],1),e._v(" "),e.echartsShowData?a("div",{staticStyle:{"min-width":"1230px",height:"400px",margin:"30px auto 0px"}},[a("div",{staticStyle:{"min-width":"1200px",height:"400px","margin-left":"0px auto"},attrs:{id:"main2"}})]):e._e(),e._v(" "),a("div",{staticClass:"seccion"},[e._v("ver : "+e._s(e.$version)+" ser : "+e._s(e.$store.state.serVersion))])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tableBox",staticStyle:{display:"none"}},[a("table",[a("thead",[a("tr",[a("th",[e._v("序号")]),e._v(" "),a("th",[e._v("所属人姓名")]),e._v(" "),a("th",[e._v("医院名称")]),e._v(" "),a("th",[e._v("拍板人")]),e._v(" "),a("th",[e._v("拍板人手机号码")]),e._v(" "),a("th",[e._v("拍板人验证")]),e._v(" "),a("th",[e._v("医院信息更新时间")])])]),e._v(" "),a("tbody",{staticClass:"tbody"})]),e._v(" "),a("div",{staticClass:"box rt",attrs:{id:"box"}})])}]};var C=a("C7Lr")(p,k,!1,function(e){a("RbQH")},"data-v-15500be6",null);t.default=C.exports},RbQH:function(e,t){},a3Yh:function(e,t,a){"use strict";t.__esModule=!0;var n,r=a("liLe"),s=(n=r)&&n.__esModule?n:{default:n};t.default=function(e,t,a){return t in e?(0,s.default)(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}},gGjR:function(e,t,a){a("vdXL");var n=a("DH3n").Object;e.exports=function(e,t,a){return n.defineProperty(e,t,a)}},liLe:function(e,t,a){e.exports={default:a("gGjR"),__esModule:!0}},vdXL:function(e,t,a){var n=a("uSC2");n(n.S+n.F*!a("5cPm"),"Object",{defineProperty:a("FIRb").f})}});
//# sourceMappingURL=2.7396deb467c24fcdba67.js.map