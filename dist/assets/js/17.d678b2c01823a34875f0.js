webpackJsonp([17],{PM7X:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("aA9S"),l=a.n(i),s=a("3cXf"),o=a.n(s),h=a("CtzY"),n=a.n(h),r=a("v6vg"),d=a.n(r),u={data:function(){return{detail:[],hospitalDetail:{name:"",tel:"",nature:"",dili:[],diliNow:{shenfen:{name:"",id:""},city:{name:"",id:""},qu:{name:"",id:""}}},options:[],hospitalNature:[{hospitalNatureValue:1,label:"民营医院"},{hospitalNatureValue:2,label:"公立医院"}],hospitalNatureValue:"1",hospitalLabel:"民营医院",form:{name:"",tel:""},dialogFormVisible:!1,formLabelWidth:"120px",linkmanList:[],modifyThisTelValue:"",query:""}},activated:function(){this.query!=o()(this.$route.query)&&(l()(this.$data,this.$options.data()),this.query=o()(this.$route.query),this.$common.loginRefresh(),this.$refs.cascader.$refs.panel.activePath=[],this.$refs.cascader.$refs.panel.calculateCheckedNodePaths(),this.hospitalDetail.dili=[],this.options=d.a)},mounted:function(){},methods:{handleChange:function(t){var e=d.a.find(function(e){return e.value==t[0]}),a=e.children.find(function(e){return e.value==t[1]}),i=a.children.find(function(e){return e.value==t[2]});this.hospitalDetail.area1Id=e.value,this.hospitalDetail.area2Id=a.value,this.hospitalDetail.area3Id=i.value,this.hospitalDetail.area1Name=e.label,this.hospitalDetail.area2Name=a.label,this.hospitalDetail.area3Name=i.label,this.hospitalDetail.dili=[e.value,a.value,i.value],this.hospitalDetail.diliNow={shenfen:{name:e.label,id:e.value},city:{name:a.label,id:a.value},qu:{name:i.label,id:i.value}}},modify:function(){this.show=!this.show,this.detail.hospitalName=this.hospitalDetail.name,this.detail.hospitalPhone=this.hospitalDetail.tel,this.detail.dili=this.hospitalDetail.dili,this.detail.diliNow=this.hospitalDetail.diliNow,this.detail.telList=this.hospitalDetail.telList,this.detail.hospitalNatureValue=this.hospitalDetail.hospitalNatureValue,this.detail.hospitalLabel=this.hospitalDetail.hospitalLabel},refuse:function(){this.modifyThisTelValue="",this.show=!this.show,this.hospitalName=this.detail.hospitalName,this.hospitalPhone=this.detail.hospitalPhone,this.dili=this.detail.dili,this.diliNow=this.detail.diliNow,this.telList=this.detail.telList,this.hospitalNatureValue=this.detail.hospitalNatureValue,this.hospitalLabel=this.detail.hospitalLabel,this.$router.back()},saveIs:function(){var t=this;this.hospitalDetail.nature?this.$axios.post("/crm/my-customer/create-customer?"+n.a.stringify({name:this.hospitalDetail.name,tel:this.hospitalDetail.tel,nature:this.hospitalDetail.nature,area1Id:this.hospitalDetail.area1Id,area2Id:this.hospitalDetail.area2Id,area3Id:this.hospitalDetail.area3Id,area1Name:this.hospitalDetail.area1Name,area2Name:this.hospitalDetail.area2Name,area3Name:this.hospitalDetail.area3Name,toRevisitTime:this.hospitalDetail.toRevisitTime,brief:this.hospitalDetail.brief,customerId:this.customerId})).then(function(e){e.data.codeMsg&&t.$message({type:"info",message:e.data.codeMsg}),0==e.data.code&&(t.$message({type:"success",message:"新增成功！"}),t.$router.replace({path:"/modify-hosNew",query:{id:e.data.data.customerId,time:(new Date).getTime()}}),t.show=!t.show)}):this.$message({type:"info",message:"请选择医院性质"})},levelList:function(t,e){this.modifyRealtion(t,"level="+e,"","","")}}},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"addIndex"}},[a("div",{staticClass:"addIndexBox"},[a("a",{staticClass:"aClose",staticStyle:{padding:"10px 20px"},attrs:{href:"Webshell://hello"}},[t._v("重启话机")]),t._v(" "),a("a",{staticStyle:{display:"none"},attrs:{href:"../assets/call/index.html",target:"_blank"}},[t._v("话机页面")]),t._v(" "),a("div",[a("div",{staticClass:"addIndexBoxTitle"},[a("el-button",{staticClass:"saveIs",attrs:{type:"primary"},on:{click:function(e){return t.saveIs()}}},[t._v("保存")]),t._v(" "),a("el-button",{staticClass:"refuse",attrs:{plain:""},on:{click:function(e){return t.refuse()}}},[t._v("取消")])],1),t._v(" "),a("div",[a("div",{staticClass:"addmainBox"},[a("div",{staticClass:"detailLine detailLineModify"},[a("div",[a("span",[t._v("医院名：")]),t._v(" "),a("el-input",{staticClass:"hospitalName",attrs:{type:"text",placeholder:"请输入"},model:{value:t.hospitalDetail.name,callback:function(e){t.$set(t.hospitalDetail,"name",e)},expression:"hospitalDetail.name"}})],1),t._v(" "),a("div",[a("span",[t._v("电话：")]),t._v(" "),a("el-input",{staticClass:"hospitalPhone",attrs:{type:"text",placeholder:"请输入"},on:{input:function(e){t.hospitalDetail.tel=t.hospitalDetail.tel.replace(/[^\d\-\d]/g,"")}},model:{value:t.hospitalDetail.tel,callback:function(e){t.$set(t.hospitalDetail,"tel",e)},expression:"hospitalDetail.tel"}})],1)]),t._v(" "),a("div",{staticClass:"detailLine detailLineModify"},[a("div",[a("span",[t._v("地址：")]),t._v(" "),a("el-cascader",{ref:"cascader",staticClass:"hospitalAddress",attrs:{options:t.options,clearable:""},on:{change:t.handleChange},model:{value:t.hospitalDetail.dili,callback:function(e){t.$set(t.hospitalDetail,"dili",e)},expression:"hospitalDetail.dili"}})],1),t._v(" "),a("div",[a("span",[t._v("性质：")]),t._v(" "),a("el-select",{staticClass:"hospitalNature",attrs:{placeholder:"请选择"},on:{change:t.selectChanged},model:{value:t.hospitalDetail.nature,callback:function(e){t.$set(t.hospitalDetail,"nature",e)},expression:"hospitalDetail.nature"}},t._l(t.hospitalNature,function(t){return a("el-option",{key:t.hospitalNatureValue,attrs:{label:t.label,value:t.hospitalNatureValue}})}),1)],1)])])])])]),t._v(" "),a("el-dialog",{attrs:{title:"新增/修改号码",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"名称备注:","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"电话号码:","label-width":t.formLabelWidth}},[a("el-input",{attrs:{type:"tel",onkeyup:"value=value.replace(/[^\\d\\-\\d]/g,'')",maxlength:"20",autocomplete:"off"},model:{value:t.form.tel,callback:function(e){t.$set(t.form,"tel",e)},expression:"form.tel"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1,t.form.name="",t.form.tel=""}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.makesureAdd}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var c=a("C7Lr")(u,p,!1,function(t){a("QQtt")},"data-v-2d1b3f9f",null);e.default=c.exports},QQtt:function(t,e){}});
//# sourceMappingURL=17.d678b2c01823a34875f0.js.map