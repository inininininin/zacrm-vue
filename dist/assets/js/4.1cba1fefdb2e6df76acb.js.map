{"version":3,"sources":["webpack:///src/components/record-statisticalList.vue","webpack:///./src/components/record-statisticalList.vue?b5ee","webpack:///./src/components/record-statisticalList.vue"],"names":["record_statisticalList","name","data","nature","dataValueStart","dataValueEnd","startTime","endTime","lineEve","tiaojian","secondFrom","secondTo","telephoneFrom","telephoneTo","callTimeFrom","callTimeTo","kw","activated","assign_default","this","$data","$options","$","val","lastPage","lastPageNo","thisValue","change","paging","initPageNo","totalPages","totalNum","slideSpeed","jump","callback","page","pn","ajax","url","type","async","success","res","code","localStorage","setItem","nickname","html","$store","state","loginRefresh","setTimeout","$router","push","path","methods","exitFn","location","href","pathname","restart","screeningFn","console","log","elmentDataStartFn","_value","moment","valueOf","$message","message","elmentDataEndFn","format","param","lib_default","a","stringify","userId","getItem","dir","css","records","length","i","_callTime","callTime","append","parseInt","userNickname","second","Math","ceil","count","getDateDiff","dateTimeStamp","diffValue","Date","getTime","monthC","day","weekC","dayC","hour","hourC","minute","minC","components_record_statisticalList","render","_vm","_h","$createElement","_c","_self","attrs","id","staticStyle","padding","height","display","margin","line-height","font-size","_v","_s","staticClass","float","margin-left","cursor","on","click","$route","query","width","font-family","font-weight","color","_e","placeholder","$event","model","value","$$v","$set","expression","default-time","align","_m","staticRenderFns","padding-bottom","background","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"assets/js/4.1cba1fefdb2e6df76acb.js","sourcesContent":["<template>\r\n  <div id='recore-list'>\r\n    <div style=\"padding: 0px 20px;height: auto;\">\r\n      <h2 style=\"display: inline-block;margin: 0;line-height: 70px;font-size: 30px;\">{{$store.state.loginRefresh.nickname}}</h2>\r\n      <a @click=\"exitFn\" class=\"loginout\" style=\"float: right;line-height: 70px;margin-left: 20px;cursor: pointer;\">退出登录</a>\r\n    </div>\r\n    <div id=\"index\">\r\n      <div style=\"width: 100%;height: auto;padding: 0px 20px;\" v-if=\"$route.query.nickname\">\r\n        <h1 style=\"font-size: 24px;font-family: PingFangSC-Regular, PingFang SC;\r\n        font-weight: 400; color: rgba(0, 0, 0, 0.85); line-height: 60px;\">昵称：{{$route.query.nickname}}</h1>\r\n      </div>\r\n      <div class=\"selectOption\" style=\"width: 100%;height: auto;padding: 0px 20px;\">\r\n        <span>筛选条件：</span>\r\n        <!-- <select class=\"nature\">\r\n          <option value=\"\" selected>-通话时长-</option>\r\n          <option value=\"1\">0-30s</option>\r\n          <option value=\"2\">31-90s</option>\r\n          <option value=\"3\">90s以上</option>\r\n        </select> -->\r\n         <el-input v-model=\"tiaojian.kw\" placeholder=\"关键字\" style=\"display: inline-block;width: 150px;\" @change=\"screeningFn()\"></el-input>\r\n        <el-input v-model=\"tiaojian.secondFrom\" placeholder=\"通话时长From\" style=\"display: inline-block;width: 150px;\" @change=\"screeningFn()\"></el-input>\r\n        <el-input v-model=\"tiaojian.secondTo\" placeholder=\"通话时长To\" style=\"display: inline-block;width: 150px;\" @change=\"screeningFn()\"></el-input>\r\n        <el-input v-model=\"tiaojian.telephoneFrom\" placeholder=\"主叫号码\" style=\"display: inline-block;width: 150px;\" @change=\"screeningFn()\"></el-input>\r\n        <el-input v-model=\"tiaojian.telephoneTo\" placeholder=\"被叫号码\" style=\"display: inline-block;width: 150px;\" @change=\"screeningFn()\"></el-input>\r\n        <el-date-picker v-model=\"tiaojian.callTimeFrom\" default-time=\"00:00:00\" type=\"datetime\" placeholder=\"请选择通话时间from\" align=\"right\" @change=\"elmentDataStartFn\">\r\n        </el-date-picker>\r\n        <el-date-picker v-model=\"tiaojian.callTimeTo\"  default-time=\"23:59:59\" type=\"datetime\" placeholder=\"选择结束通话时间To\" align=\"right\" @change=\"elmentDataEndFn\">\r\n        </el-date-picker>\r\n        <el-button @click=\"restart()\" type=\"primary\">重置</el-button>\r\n        <!-- <select class=\"lineEve\">\r\n          <option value=\"\" selected>-是否接通-</option>\r\n          <option value=\"1\">接通</option>\r\n          <option value=\"0\">未接通</option>\r\n        </select> -->\r\n      </div>\r\n      <p class=\"numberAll\"></p>\r\n      <div class=\"tableBox\" style=\"display: none;padding-bottom: 50px;\">\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th>序号</th>\r\n              <th>所属人姓名</th>\r\n              <th>主叫号码</th>\r\n              <th>被叫号码</th>\r\n              <th>通话时间</th>\r\n              <th>通话时长</th>\r\n              <th>录音地址</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody class=\"tbody\" style=\"background: #ffffff;\">\r\n          </tbody>\r\n        </table>\r\n        <div class=\"box rt\" id=\"box\"></div>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n<script>\r\n  import qs from 'qs'\r\n  export default {\r\n    name: 'index',\r\n    data() {\r\n      return {\r\n        nature: \"\",\r\n        dataValueStart: '',\r\n        dataValueEnd: '',\r\n        startTime: '',\r\n        endTime: '',\r\n        lineEve:'',\r\n        tiaojian:{\r\n          secondFrom:'',\r\n          secondTo:'',\r\n          telephoneFrom:'',\r\n          telephoneTo : '',\r\n          callTimeFrom : '',\r\n          callTimeTo : '',\r\n          kw:'',\r\n\r\n        }\r\n      }\r\n    },\r\n    activated() {\r\n      Object.assign(this.$data, this.$options.data());\r\n       $('#index .nature').val('')\r\n       $('#index .lineEve').val('')\r\n       // $('#index .nature').val('')\r\n       // $('#index .province').val('')\r\n      this.lastPage(1)\r\n      this.lastPageNo(1)\r\n      let thisValue = this\r\n      $('#index .nature').change(function() {\r\n        thisValue.nature = $(this).val()\r\n        thisValue.lastPageNo()\r\n        $('#index #box').paging({\r\n          initPageNo: 1, // 初始页码\r\n          totalPages: thisValue.totalNum, //总页数\r\n          slideSpeed: 600, // 缓动速度。单位毫秒\r\n          jump: true, //是否支持跳转\r\n          callback: function(page) { // 回调函数\r\n            // memberList1(1,page);\r\n            // var nature = $('.nature').val()\r\n            thisValue.pn = page\r\n            thisValue.lastPage(page)\r\n          }\r\n        })\r\n      }),\r\n      $('#index .lineEve').change(function() {\r\n        thisValue.lineEve = $(this).val()\r\n        thisValue.lastPageNo(thisValue.nature)\r\n        $('#index #box').paging({\r\n          initPageNo: 1, // 初始页码\r\n          totalPages: thisValue.totalNum, //总页数\r\n          //                totalCount: '合计' + setTotalCount + '条数据', // 条目总数\r\n          slideSpeed: 600, // 缓动速度。单位毫秒\r\n          jump: true, //是否支持跳转\r\n          callback: function(page) { // 回调函数\r\n            // memberList1(1,page);\r\n\r\n            thisValue.pn = page\r\n            thisValue.lastPage(page)\r\n          }\r\n        })\r\n      })\r\n      $.ajax({\r\n\t\t\t\turl: '/crm/login-refresh',\r\n\r\n\t\t\t\ttype: 'POST',\r\n\t\t\t\tasync: true,\r\n\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\tif (res.code == 0) {\r\n\t\t\t\t\t\tlocalStorage.setItem('nickname',res.data.nickname)\r\n\t\t\t\t\t\t$('#index .peoname').html(res.data.nickname)\r\n\t\t\t\t\t\t$('#index #userName').val(res.data.nickname)\r\n\t\t\t\t\t\tdebugger\r\n\t\t\t\t\t\tthisValue.$store.state.loginRefresh = res.data\r\n\t\t\t\t\t\t//         window.location.href='index.html'\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\tthisValue.$router.push({path:'/login'})\r\n\t\t\t\t\t\t}, 1000)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n      })\r\n    },\r\n\r\n    methods: {\r\n      exitFn(){\r\n        $.ajax({\r\n          type:\"post\",\r\n          url:\"/crm/logout\",\r\n\r\n          data:\"\",\r\n          success:function (data){\r\n                      // location.href='/#/login'\r\n                      location.href=location.pathname\r\n                // location.href='login.html'\r\n          }\r\n        })\r\n      },\r\n      restart(){\r\n        this.tiaojian.secondFrom=\"\"\r\n        this.tiaojian.secondTo=\"\"\r\n        this.tiaojian.telephoneFrom=\"\"\r\n        this.tiaojian.telephoneTo=\"\"\r\n        this.tiaojian.callTimeFrom=\"\"\r\n        this.tiaojian.callTimeTo=\"\"\r\n        this.tiaojian.kw=\"\"\r\n        this.screeningFn()\r\n      },\r\n      screeningFn(){\r\n        console.log('s')\r\n         this.lastPageNo()\r\n      },\r\n      elmentDataStartFn(_value) {\r\n        // console.log(_value,this.tiaojian.callTimeTo, this.moment(_value).valueOf())\r\n        if (!this.tiaojian.callTimeTo||this.moment(_value).valueOf() < this.tiaojian.callTimeTo) {\r\n          if (_value) {\r\n            this.tiaojian.callTimeFrom = this.moment(_value).valueOf();\r\n            // this.toRevisitTimeTo = this.toRevisitTimeFrom+(1*24*60*60-1)*1000;\r\n          } else {\r\n            this.tiaojian.callTimeFrom = '';\r\n            // this.toRevisitTimeTo = '';\r\n          }\r\n          // console.log(2,this.tiaojian.callTimeFrom)\r\n          this.lastPageNo()\r\n        } else {\r\n          this.$message({\r\n            type: 'info',\r\n            message: '开始时间需小于结束时间!'\r\n          });\r\n        }\r\n      },\r\n      elmentDataEndFn(_value) {\r\n        // console.log(_value,this.tiaojian.callTimeFrom, this.moment(_value).valueOf())\r\n        if (!this.tiaojian.callTimeFrom || this.moment(_value).valueOf() > this.tiaojian.callTimeFrom) {\r\n          console.log(this.moment(this.moment(_value).valueOf()).format('YYYY-MM-DD HH-mm-ss'))\r\n          if (_value) {\r\n            this.tiaojian.callTimeTo = this.moment(_value).valueOf();\r\n            // this.toRevisitTimeTo = this.toRevisitTimeFrom+(1*24*60*60-1)*1000;\r\n          } else {\r\n            this.tiaojian.callTimeTo = '';\r\n            // this.toRevisitTimeTo = '';\r\n          }\r\n          this.lastPageNo()\r\n        } else {\r\n          this.$message({\r\n            type: 'info',\r\n            message: '结束时间需大于开始时间!'\r\n          });\r\n        }\r\n\r\n\r\n\r\n      },\r\n\r\n      lastPage(pn) {\r\n        // if (nature == 1) {\r\n        //   var durationFrom = 0\r\n        //   var durationTo = 30\r\n        // } else if (nature == 2) {\r\n        //   var durationFrom = 31\r\n        //   var durationTo = 90\r\n        // } else if (nature == 3) {\r\n        //   var durationFrom = 90\r\n        //   var durationTo = ''\r\n        // }  else {\r\n        //   var durationFrom = ''\r\n        //   var durationTo = ''\r\n        // }\r\n        var param = '&' + qs.stringify({\r\n          userId: localStorage.getItem('id') || '',\r\n          secondFrom : this.tiaojian.secondFrom,\r\n          secondTo : this.tiaojian.secondTo,\r\n          telephoneFrom : this.tiaojian.telephoneFrom,\r\n          telephoneTo : this.tiaojian.telephoneTo,\r\n          callTimeFrom : this.tiaojian.callTimeFrom,\r\n          callTimeTo : this.tiaojian.callTimeTo,\r\n          kw : this.tiaojian.kw,\r\n        })\r\n        let thisValue = this\r\n        $.ajax({\r\n          url: '/crm/statistician/phone-record/records',\r\n          type: 'GET',\r\n          data: 'ps=15&pn=' + pn + param,\r\n          async: true,\r\n          success: function(res) {\r\n            console.dir(res)\r\n            if (res.code == 0) {\r\n              $('#index .tbody').html('')\r\n              $('.tableBox').css('display', 'block')\r\n              if (res.data.records && res.data.records.length > 0) {\r\n                console.log(12321312)\r\n                for (var i in res.data.records) {\r\n                  var tel = ''\r\n                  let _callTime = ''\r\n                  if (res.data.records[i].callTime) {\r\n                    _callTime = thisValue.moment(res.data.records[i].callTime).format('YYYY-MM-DD HH:mm:ss');\r\n                  } else {\r\n                    _callTime = ''\r\n                  }\r\n                  $('#index .tbody').append(\r\n                    '<tr id=' + res.data.records[i].userId + '>'+\r\n                      '<td>' + (parseInt(i) + 1 + ((pn - 1) * 15)) +'</td>'+\r\n                      '<td class=\"xiugaiTimeFn\">' + res.data.records[i].userNickname +'</td>'+\r\n                      // '<td>' + (res.data.records[i].calledid || \"\") + '</td>'+\r\n                      // '<td  linkName=\"' + (res.data.records[i].name || \"\") + '\" tel=\"' + (res .data.records[\r\n                          // i].tel || \"\") + '\">' + startTime + '</td><td>' + endTime + '</td>'+\r\n                      // '<td>' + accessTime + '</td>'+\r\n                      '<td>' + res.data.records[i].telephoneFrom + '</td>'+\r\n                      '<td>' + res.data.records[i].telephoneTo + '</td>'+\r\n                      '<td>' + _callTime + '</td>'+\r\n                      '<td>' + (res.data.records[i].second || \"0\") + 's</td>'+\r\n                      // '<td>' + recStatus + '</td>'+\r\n                      '<td class=\"enterHos\">'+\r\n                        '<a href=\"' + res.data.records[i].url + '\"  target=＂_blank＂>录音地址</a>'+\r\n                      '</td>'+\r\n                    '</tr>'\r\n                  )\r\n\r\n                }\r\n              }\r\n            }\r\n          }\r\n        })\r\n      },\r\n      lastPageNo() {\r\n        // if (nature == 1) {\r\n        //   var durationFrom = 0\r\n        //   var durationTo = 30\r\n        // } else if (nature == 2) {\r\n        //   var durationFrom = 31\r\n        //   var durationTo = 90\r\n        // } else if (nature == 3) {\r\n        //   var durationFrom = 90\r\n        //   var durationTo = ''\r\n        // }  else {\r\n        //   var durationFrom = ''\r\n        //   var durationTo = ''\r\n        // }+\r\n\r\n        var param = qs.stringify({\r\n          userId: localStorage.getItem('id') || '',\r\n          secondFrom : this.tiaojian.secondFrom,\r\n          secondTo : this.tiaojian.secondTo,\r\n          telephoneFrom : this.tiaojian.telephoneFrom,\r\n          telephoneTo : this.tiaojian.telephoneTo,\r\n          callTimeFrom : this.tiaojian.callTimeFrom,\r\n          callTimeTo : this.tiaojian.callTimeTo,\r\n          kw : this.tiaojian.kw,\r\n        })\r\n        let thisValue = this\r\n        $.ajax({\r\n          url: '/crm/statistician/phone-record/records-sum',\r\n          type: 'GET',\r\n          data: param,\r\n          async: true,\r\n          success: function(res) {\r\n            if (res.code == 0) {\r\n              thisValue.totalNum = Math.ceil(res.data.count / 15)\r\n              console.log(thisValue.totalNum)\r\n              $('#index .numberAll').html('( 共' + (res.data.count||'0') + '条数据 )')\r\n              $('#index #box').paging({\r\n                initPageNo: 1, // 初始页码\r\n                totalPages: thisValue.totalNum, //总页数\r\n                //                totalCount: '合计' + setTotalCount + '条数据', // 条目总数\r\n                slideSpeed: 600, // 缓动速度。单位毫秒\r\n                jump: true, //是否支持跳转\r\n                callback: function(page) { // 回调函数\r\n                  // memberList1(1,page);\r\n                  // var nature = $('#index .nature').val()\r\n                  thisValue.pn = page\r\n                  thisValue.lastPage(page)\r\n                }\r\n              })\r\n\r\n            }\r\n          }\r\n        })\r\n      },\r\n      // 时间转换\r\n      getDateDiff(dateTimeStamp) {\r\n        if (!dateTimeStamp)\r\n          return ''\r\n        let thisValue = this\r\n        var result;\r\n        var minute = 1000 * 60;\r\n        var hour = minute * 60;\r\n        var day = hour * 24;\r\n        var halfamonth = day * 15;\r\n        var month = day * 30;\r\n        var now = new Date().getTime();\r\n        var diffValue = now - dateTimeStamp;\r\n        if (diffValue < 0) {\r\n          return;\r\n        }\r\n        var monthC = diffValue / month;\r\n        var weekC = diffValue / (7 * day);\r\n        var dayC = diffValue / day;\r\n        var hourC = diffValue / hour;\r\n        var minC = diffValue / minute;\r\n        if (monthC >= 1) {\r\n          if (monthC <= 12)\r\n            result = \"\" + parseInt(monthC) + \"月前\";\r\n          else {\r\n            result = \"\" + parseInt(monthC / 12) + \"年前\";\r\n          }\r\n        } else if (weekC >= 1) {\r\n          result = \"\" + parseInt(weekC) + \"周前\";\r\n        } else if (dayC >= 1) {\r\n          result = \"\" + parseInt(dayC) + \"天前\";\r\n        } else if (hourC >= 1) {\r\n          result = \"\" + parseInt(hourC) + \"小时前\";\r\n        } else if (minC >= 1) {\r\n          result = \"\" + parseInt(minC) + \"分钟前\";\r\n        } else {\r\n          result = \"刚刚\";\r\n        }\r\n        return result;\r\n      },\r\n    },\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  #recore-list{\r\n    width: 100%;\r\n\t  height: 100%;\r\n    overflow: scroll;\r\n  }\r\n  #index {\r\n    min-width: 1200px;\r\n  }\r\n\r\n  .numberAll {\r\n    font-size: 16px;\r\n    line-height: 35px;\r\n    box-sizing: border-box;\r\n    padding-left: 20px;\r\n    margin: 0;\r\n    height: 35px;\r\n    width: 100%;\r\n  }\r\n  >>>#index .selectOption>button{\r\n    line-height: 0 !important;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/record-statisticalList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"recore-list\"}},[_c('div',{staticStyle:{\"padding\":\"0px 20px\",\"height\":\"auto\"}},[_c('h2',{staticStyle:{\"display\":\"inline-block\",\"margin\":\"0\",\"line-height\":\"70px\",\"font-size\":\"30px\"}},[_vm._v(_vm._s(_vm.$store.state.loginRefresh.nickname))]),_vm._v(\" \"),_c('a',{staticClass:\"loginout\",staticStyle:{\"float\":\"right\",\"line-height\":\"70px\",\"margin-left\":\"20px\",\"cursor\":\"pointer\"},on:{\"click\":_vm.exitFn}},[_vm._v(\"退出登录\")])]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"index\"}},[(_vm.$route.query.nickname)?_c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"auto\",\"padding\":\"0px 20px\"}},[_c('h1',{staticStyle:{\"font-size\":\"24px\",\"font-family\":\"PingFangSC-Regular, PingFang SC\",\"font-weight\":\"400\",\"color\":\"rgba(0, 0, 0, 0.85)\",\"line-height\":\"60px\"}},[_vm._v(\"昵称：\"+_vm._s(_vm.$route.query.nickname))])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"selectOption\",staticStyle:{\"width\":\"100%\",\"height\":\"auto\",\"padding\":\"0px 20px\"}},[_c('span',[_vm._v(\"筛选条件：\")]),_vm._v(\" \"),_c('el-input',{staticStyle:{\"display\":\"inline-block\",\"width\":\"150px\"},attrs:{\"placeholder\":\"关键字\"},on:{\"change\":function($event){return _vm.screeningFn()}},model:{value:(_vm.tiaojian.kw),callback:function ($$v) {_vm.$set(_vm.tiaojian, \"kw\", $$v)},expression:\"tiaojian.kw\"}}),_vm._v(\" \"),_c('el-input',{staticStyle:{\"display\":\"inline-block\",\"width\":\"150px\"},attrs:{\"placeholder\":\"通话时长From\"},on:{\"change\":function($event){return _vm.screeningFn()}},model:{value:(_vm.tiaojian.secondFrom),callback:function ($$v) {_vm.$set(_vm.tiaojian, \"secondFrom\", $$v)},expression:\"tiaojian.secondFrom\"}}),_vm._v(\" \"),_c('el-input',{staticStyle:{\"display\":\"inline-block\",\"width\":\"150px\"},attrs:{\"placeholder\":\"通话时长To\"},on:{\"change\":function($event){return _vm.screeningFn()}},model:{value:(_vm.tiaojian.secondTo),callback:function ($$v) {_vm.$set(_vm.tiaojian, \"secondTo\", $$v)},expression:\"tiaojian.secondTo\"}}),_vm._v(\" \"),_c('el-input',{staticStyle:{\"display\":\"inline-block\",\"width\":\"150px\"},attrs:{\"placeholder\":\"主叫号码\"},on:{\"change\":function($event){return _vm.screeningFn()}},model:{value:(_vm.tiaojian.telephoneFrom),callback:function ($$v) {_vm.$set(_vm.tiaojian, \"telephoneFrom\", $$v)},expression:\"tiaojian.telephoneFrom\"}}),_vm._v(\" \"),_c('el-input',{staticStyle:{\"display\":\"inline-block\",\"width\":\"150px\"},attrs:{\"placeholder\":\"被叫号码\"},on:{\"change\":function($event){return _vm.screeningFn()}},model:{value:(_vm.tiaojian.telephoneTo),callback:function ($$v) {_vm.$set(_vm.tiaojian, \"telephoneTo\", $$v)},expression:\"tiaojian.telephoneTo\"}}),_vm._v(\" \"),_c('el-date-picker',{attrs:{\"default-time\":\"00:00:00\",\"type\":\"datetime\",\"placeholder\":\"请选择通话时间from\",\"align\":\"right\"},on:{\"change\":_vm.elmentDataStartFn},model:{value:(_vm.tiaojian.callTimeFrom),callback:function ($$v) {_vm.$set(_vm.tiaojian, \"callTimeFrom\", $$v)},expression:\"tiaojian.callTimeFrom\"}}),_vm._v(\" \"),_c('el-date-picker',{attrs:{\"default-time\":\"23:59:59\",\"type\":\"datetime\",\"placeholder\":\"选择结束通话时间To\",\"align\":\"right\"},on:{\"change\":_vm.elmentDataEndFn},model:{value:(_vm.tiaojian.callTimeTo),callback:function ($$v) {_vm.$set(_vm.tiaojian, \"callTimeTo\", $$v)},expression:\"tiaojian.callTimeTo\"}}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.restart()}}},[_vm._v(\"重置\")])],1),_vm._v(\" \"),_c('p',{staticClass:\"numberAll\"}),_vm._v(\" \"),_vm._m(0)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tableBox\",staticStyle:{\"display\":\"none\",\"padding-bottom\":\"50px\"}},[_c('table',[_c('thead',[_c('tr',[_c('th',[_vm._v(\"序号\")]),_vm._v(\" \"),_c('th',[_vm._v(\"所属人姓名\")]),_vm._v(\" \"),_c('th',[_vm._v(\"主叫号码\")]),_vm._v(\" \"),_c('th',[_vm._v(\"被叫号码\")]),_vm._v(\" \"),_c('th',[_vm._v(\"通话时间\")]),_vm._v(\" \"),_c('th',[_vm._v(\"通话时长\")]),_vm._v(\" \"),_c('th',[_vm._v(\"录音地址\")])])]),_vm._v(\" \"),_c('tbody',{staticClass:\"tbody\",staticStyle:{\"background\":\"#ffffff\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"box rt\",attrs:{\"id\":\"box\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-96983ecc\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/record-statisticalList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-96983ecc\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./record-statisticalList.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./record-statisticalList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./record-statisticalList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-96983ecc\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./record-statisticalList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-96983ecc\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/record-statisticalList.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}